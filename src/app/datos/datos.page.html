<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Datos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title>Datos</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="datos-wrapper" *ngFor="let fecha of (datosAgrupados | keyvalue)">
    <ion-card>
      <ion-card-header class="fecha-header">
        <div class="fecha-badge">
          {{ fecha.key }}
        </div>
      </ion-card-header>
      <ion-card-content class="contenedor">

        <!-- Panel 1 -->
        <div class="columna">
          <br>
          <h3>Panel 1 - Potencia</h3>
          <app-chart-panel
            [datos]="fecha.value.panel01"
            [curvaGlobal]="getCurvaPotencia()"
            tipo="potencia">
          </app-chart-panel>

          <div *ngFor="let dato of fecha.value.panel01">
            <ion-list>
              <ion-item lines="none" class="hora-item">
                <ion-label>Hora: {{ dato.hora }}</ion-label>
              </ion-item>
              <ion-item lines="none">
                <ion-icon slot="start" color="primary" name="flash"></ion-icon>
                <ion-label>Potencia: {{ dato.potencia }} W</ion-label>
              </ion-item>
            </ion-list>
          </div>
        </div>

        <!-- Panel 2 -->
        <div class="columna">
          <br>
          <h3>Panel 2 - Potencia</h3>
          <app-chart-panel
            [datos]="fecha.value.panel02"
            [curvaGlobal]="getCurvaPotencia()"
            tipo="potencia">
          </app-chart-panel>

          <div *ngFor="let dato of fecha.value.panel02">
            <ion-list>
              <ion-item lines="none" class="hora-item">
                <ion-label>Hora: {{ dato.hora }}</ion-label>
              </ion-item>
              <ion-item lines="none">
                <ion-icon slot="start" color="primary" name="flash"></ion-icon>
                <ion-label>Potencia: {{ dato.potencia }} W</ion-label>
              </ion-item>
            </ion-list>
          </div>
        </div>

      </ion-card-content>
    </ion-card>
  </div>

</ion-content>
